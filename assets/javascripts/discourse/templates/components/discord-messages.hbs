
<div class="discord-messages-mobile-item"><hr></div>

<div class ="discord-data-messages-header">
  <h3>{{d-icon 'fab-discord'}}{{" "}}{{ i18n "discord_datastore.message_history_title" }}</h3>
  <div class="discord-message-paginate-buttons">
    <button {{ action prevMessagePage }} type='submit' class='discord-button'>
      {{ i18n "discord_datastore.message_pagination_previous" }}
    </button>
    <b>{{ current_page }}</b>
    <button {{ action nextMessagePage }} type='submit' class='discord-button' >
      {{ i18n "discord_datastore.message_pagination_next" }}
    </button>
  </div>
</div>

{{#if messages_loaded}}
  {{#if messages}}
    <div class="discord-message-list" >
      <ul>
        {{#each messages as |message|}}
          <li>
            <div class="discord-message">
              <div class="discord-avatar"><img src="{{message.user_avatar}}" alt="" /></div>
              <div class="discord-message-content">
                {{ message.user_nickname }}{{ " in " }}<b>{{"#"}}{{ message.channel_name }}</b>{{ " on " }}{{ message.date }}{{":"}}<br>
                {{#if message.attachments}}
                  <div class="discord-attachments">{{"attachments: " }}
                  {{#each message.attachments as |attachment|}}
                    <a class="discord-attachment" href={{attachment}}>📎</a>
                  {{/each}}
                  </div>
                {{/if}}
                {{ message.content }}
              </div>
            </div>
          </li>
        {{/each}}
      </ul>
    </div>
  {{else}}
    <div class="no-messages">{{ i18n "discord_datastore.no_messages" }}</div>
  {{/if}}

{{else}}
  <div class='spinner'></div> 
{{/if}}
